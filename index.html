<!DOCTYPE html>
<html>
<head>
    <title>Leaflet Layers Control Example</title>
    <meta charset="utf-8"/>

    <meta name="viewport" content="width=device-width, initial-scale=1">


    <link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.6.0/pure-min.css">
    <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.css"/>
    <link rel="stylesheet" href="css/style.css"/>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/leaflet.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
</head>
<body>
<div class="header">
    <div class="pure-menu pure-menu-horizontal">
        <a class="pure-menu-heading" href="">MFRB</a>

        <ul class="pure-menu-list">
            <li class="pure-menu-item pure-menu-selected"><a href="#" class="pure-menu-link">Découvrir</a></li>
            <li class="pure-menu-item"><a href="#" class="pure-menu-link">Actualité</a></li>
            <li class="pure-menu-item"><a href="#" class="pure-menu-link">Participer</a></li>
        </ul>
    </div>
</div>
<div class="pure-g">
    <div class="pure-u-1-2 l-box" id="feed">
        <h2>Trouver un groupe local</h2>
        <h3></h3>
    </div>
    <div class="pure-u-1-2 l-box" id="map">

    </div>
    <div class="pure-u-1-1 l-box">
        <p>Data group</p>
        <textarea rows="20" id="data-set" style="width: 100%"></textarea>
    </div>
</div>

<script>
    var domelem = document.createElement('a');
    domelem.href = "#point_555_444";
    domelem.innerHTML = "Click me";
    domelem.onclick = function () {
        alert(this.href);
        // do whatever else you want to do - open accordion etc
    };
    var cities = new L.LayerGroup();

    jQuery.getJSON('data.json', function (data) {
        for (var i = 0; i < data.groups.length; i++) {
            group = data.groups[i];
            console.log(group);
            L.marker([group.lat, group.long])
                    .bindPopup(group.title)
                    .addTo(cities);
        }

        // Display the data set
        $('#data-set').append(JSON.stringify(data.groups, null, 2));
    });

    var mbAttr = 'MFRB';
    var mbUrl = 'https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibmhlZnRpIiwiYSI6ImNpazgxeWVwdTAwMDd2Y2tvd2phMHBvaTIifQ.HfkqiDG3aFRNcbArnKhaag';

    var grayscale = L.tileLayer(mbUrl, {id: 'mapbox.light', attribution: mbAttr}),
            streets = L.tileLayer(mbUrl, {id: 'mapbox.streets', attribution: mbAttr});

    var map = L.map('map', {
        center: [39.73, -104.99],
        zoom: 10,
        layers: [grayscale, cities]
    });

    var baseLayers = {
        "Grayscale": grayscale,
        "Streets": streets
    };

    var overlays = {
        "Cities": cities
    };

    L.control.layers(baseLayers, overlays).addTo(map);
</script>
</body>
</html>

